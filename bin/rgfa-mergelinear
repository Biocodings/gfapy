#!/usr/bin/env ruby
require "rgfatools"

redundant = ARGV.delete("-r")
if ARGV.size != 1
  STDERR.puts "Usage: #$0 [-r] <gfa>"
  STDERR.puts "-r: redundant output of junctions (default: false)"
  exit 1
end

gfa = RGFA.new
gfa.enable_progress_logging(part: 0.01)
gfa.vlevel = 0
gfa.read_file(ARGV[0])
gfa.merge_linear_paths(redundant: redundant,
                       disable_tracking: true)
#                       merged_name: :short)
puts gfa

